<template>
  <div class="appH5_body">
    <div class="appH5_content">
      <div class="appH5_panel appH5_panel_mb">
          <div class="appH5_title">
              <span>产品要素</span>
          </div>
          <table class="appH5_list_two">
            <tr>
              <td>产品名称</td>
              <td>丰耀2017年第二期个人汽车抵押贷款资产支持证券</td>
            </tr>
            <tr>
              <td>产品分类</td>
              <td>
                <div><router-link to="/product"> <a href="javascript:;" style="color:#FEC447">信贷资产证券化</a></router-link></div>
                <div>&nbsp;└&nbsp;<router-link to="/product"> <a href="javascript:;" style="color:#FEC447">汽车抵押贷款</a></router-link></div>
                <div>&nbsp;&nbsp;&nbsp;└&nbsp;好一个三级分类</div>
              </td>
            </tr>
            <tr>
              <td>产品状态</td>
              <td>存续期</td>
            </tr>
            <tr>
              <td>成立日期</td>
              <td>2017年11月11日</td>
            </tr>
            <tr>
              <td>发起机构</td>
              <td>丰田汽车金融(中国)有限公司<br>丰田汽车金融(中国)有限公司</td>
            </tr>
            <tr>
              <td style="vertical-align: middle;">金额(亿)</td>
              <td class="appH5_font_largest appH5_color_red">30.00</td>
            </tr>
          </table>
      </div>
      <div class="appH5_panel appH5_panel_mb">
        <div class="appH5_title">
              <span>证券结构</span>
          </div>
          <div style="padding-left:2.09333rem">
<table class="table-structure" style="text-align:center; width:220px; margin-top:-2px; padding:0px;"><tbody><tr style="text-align:center; padding:0px;"><td style="padding:0px; position: relative; vertical-align:top;height:171px;width:220px;background-color:#B7AFA5"><div style="height:18%;display:block;position:relative;background-image:url(/src/public/images/table_bg.png);background-repeat:repeat;vertical-align:top;">
                                                                         <span title="证券: 17丰耀2A_bc
初始本金: 2440000000
分层占比: 81.33%
剩余本金: 2013000000
剩余占比: 67.10%" style="position: absolute;top:0px;left:0px;width:220px;height:171px;line-height:171px;">
                                                                             <a href="../Deal/SecuritySummary.aspx?dealid=2342&amp;noteId=8628" target="_blank" title="证券: 17丰耀2A_bc
初始本金: 2440000000
分层占比: 81.33%
剩余本金: 2013000000
剩余占比: 67.10%" style="width:220px;word-break:break-all;color:#000000;font-weight:normal;font-size:smaller">A</a>
                                                                         </span>
                                                                     </div></td></tr></tbody></table>
																	 <table class="table-structure" style="text-align:center; width:220px; margin-top:-2px; padding:0px;"><tbody><tr style="text-align:center; padding:0px;"><td style="padding:0px; position: relative; vertical-align:top;height:19px;width:220px;background-color:#B7AFA5"><div style="height:0%;display:block;position:relative;background-image:url(/src/public/images/table_bg.png);background-repeat:repeat;vertical-align:top;">
                                                                         <span title="证券: 17丰耀2B_bc
初始本金: 275000000
分层占比: 9.17%
剩余本金: 275000000
剩余占比: 9.17%" style="position: absolute;top:0px;left:0px;width:220px;height:19px;line-height:19px;">
                                                                             <a href="../Deal/SecuritySummary.aspx?dealid=2342&amp;noteId=8629" target="_blank" title="证券: 17丰耀2B_bc
初始本金: 275000000
分层占比: 9.17%
剩余本金: 275000000
剩余占比: 9.17%" style="width:220px;word-break:break-all;color:#000000;font-weight:normal;font-size:smaller">B</a>
                                                                         </span>
                                                                     </div></td></tr></tbody></table>
																	 <table class="table-structure" style="text-align:center; width:220px; margin-top:-2px; padding:0px;"><tbody><tr style="text-align:center; padding:0px;"><td style="padding:0px; position: relative; vertical-align:top;height:20px;width:220px;background-color:#B7AFA5"><div style="height:0%;display:block;position:relative;background-image:url(/src/public/images/table_bg.png);background-repeat:repeat;vertical-align:top;">
                                                                         <span title="证券: 17丰耀2C_bc
初始本金: 284999356.49
分层占比: 9.50%
剩余本金: 284999356.49
剩余占比: 9.50%" style="position: absolute;top:0px;left:0px;width:220px;height:20px;line-height:20px;">
                                                                             <a href="../Deal/SecuritySummary.aspx?dealid=2342&amp;noteId=8630" target="_blank" title="证券: 17丰耀2C_bc
初始本金: 284999356.49
分层占比: 9.50%
剩余本金: 284999356.49
剩余占比: 9.50%" style="width:220px;word-break:break-all;color:#000000;font-weight:normal;font-size:smaller">sub</a>
                                                                         </span>
                                                                     </div></td></tr></tbody></table>
          </div>
          <div style="margin-bottom:0.25rem;margin-left:2.1rem">
            <div style="float:left;margin: 4px 4px 4px 2px; width: 12px;height: 11px; background-image: url(&quot;/src/public/images/table_bg.png&quot;); background-repeat: repeat;"></div> 
            <div style="float:left;font-size: 11px;">已偿付</div> 
            <div style="float:left;margin: 4px 4px 4px 2px; width: 12px; height: 11px; background-color: #B7AFA5;"></div> 
            <div style="float:left;font-size: 11px;">剩余</div>
          </div>
      </div>
      <div class="appH5_panel appH5_panel_mb">
        <div class="appH5_title">
              <span>证券列表</span>
          </div>
          <div>
            <table class="appH5_table">
              <tr>
                <th>证券简称</th>
                <th class="text-right">初始(亿)<br/>剩余(亿)</th>
                <th class="text-right">利率<br/>估值</th>
                <th class="text-right">期限<br/>类型</th>
                <th class="text-right">最新评级<br/>建议评级</th>
              </tr>
              <tr>
                <td class="appH5_font_larger">17康安1A</td>
                <td class="text-right"><span class="appH5_color_red appH5_font_large">1.50</span><br/><span class="appH5_color_details appH5_font_smaller">1.50</span></td>
                <td class="text-right"><span class="appH5_font_large">4.85</span><br/><span class="appH5_color_green appH5_font_smaller">4.85</span></td>
                <td class="text-right"><span class="appH5_font_large">0.70</span><br/><span class="appH5_color_details appH5_font_smaller">过手型</span></td>
                <td class="text-right"><span class="appH5_font_large">AAA/AAA</span><br/><span class="appH5_color_green appH5_font_smaller">AAA</span></td>
              </tr>
              <tr>
                <td class="appH5_font_larger">17康安1B</td>
                <td class="text-right"><span class="appH5_color_red appH5_font_large">2.30</span><br/><span class="appH5_color_details appH5_font_smaller">1.50</span></td>
                <td class="text-right"><span class="appH5_font_large">4.85</span><br/><span class="appH5_color_green appH5_font_smaller">4.85</span></td>
                <td class="text-right"><span class="appH5_font_large">0.70</span><br/><span class="appH5_color_details appH5_font_smaller">过手型</span></td>
                <td class="text-right"><span class="appH5_font_large">AA/A</span><br/><span class="appH5_color_green appH5_font_smaller">AA+</span></td>
              </tr>
              <tr>
                <td class="appH5_font_larger">17康安1C</td>
                <td class="text-right"><span class="appH5_color_red appH5_font_large">5.50</span><br/><span class="appH5_color_details appH5_font_smaller">1.50</span></td>
                <td class="text-right"><span class="appH5_font_large">4.85</span><br/><span class="appH5_color_green appH5_font_smaller">4.85</span></td>
                <td class="text-right"><span class="appH5_font_large">0.70</span><br/><span class="appH5_color_details appH5_font_smaller">过手型</span></td>
                <td class="text-right"><span class="appH5_font_large">A/AA</span><br/><span class="appH5_color_green appH5_font_smaller">NR/NR</span></td>
              </tr>
            </table>
          </div>
      </div>
      <div class="appH5_panel">
        <div class="appH5_title">
              <span>证券偿付</span>
          </div>
          <div>
            <highcharts :options='options'></highcharts>
          </div>
      </div>
    </div>
    <!-- <h2>产品详情页</h2>
    <h3>{{ productDetail && productDetail.Title }}</h3>
    <p>{{ productDetail && productDetail.Content }}</p>
    <p>{{ productDetail && productDetail.Time }}</p> -->
  </div>
</template>

<style scoped>

</style>

<script>
import BusUtil from './BusUtil';
import Vue from 'vue';
import VueHighcharts from 'vue-highcharts';
import Highcharts from 'highcharts';
import getParams from '../../public/js/getParams';

// some charts like solid gauge require `highcharts-more.js`, you can find it in official demo.
import * as chartTheme from '@/public/js/chartTheme';

import * as webApi from '@/config/api'; 
Vue.use(VueHighcharts, { Highcharts }); 
Highcharts.setOptions(chartTheme);

export default {
  name: 'productDetail',
  created() {
    const busUtil = BusUtil.getInstance();
    
    this.id = this.$route.params.id;
    if (this.id) {
      this.fetchProductDetail(this.id);
    }
    this.fetchProductPaymentChart(440,28203);//(this.dealId, this.resultId);
    busUtil.bus.$emit('showHeader', true);

    // url 传来的id
    const productId = getParams("id");
    if (productId) {
      this.fetchProductDetail(productId);
    }
  },
  data() {
    return {
      productDetail: null,
      options: {
        title: {
          text: '暂无数据'
        },
      }
    };
  },
  methods: {
    fetchProductDetail(id) {
      fetch(`http://10.1.1.35/Demo/DemoProduct/getitem/6`)
      .then(response => response.json())
      .then((json) => {
        this.productDetail = json.data;
      });
    },
    fetchProductPaymentChart(dealId, resultId) {
      fetch(webApi.Product.chart.concat(['', dealId, resultId].join('/')))
      .then(response => response.json())
      .then((json) => {
        //var jsons = JSON.parse('{"status":"ok","code":200,"data":{"ListLineSeries":[{"Data":{"Data":[{"X":1448928000000,"Y":100,"Tooltip":null},{"X":1453766400000,"Y":100,"Tooltip":null},{"X":1456444800000,"Y":100,"Tooltip":null},{"X":1459123200000,"Y":100,"Tooltip":null},{"X":1461628800000,"Y":100,"Tooltip":null},{"X":1464220800000,"Y":100,"Tooltip":null},{"X":1466985600000,"Y":100,"Tooltip":null},{"X":1469491200000,"Y":100,"Tooltip":null},{"X":1472169600000,"Y":100,"Tooltip":null},{"X":1474848000000,"Y":100,"Tooltip":null},{"X":1477440000000,"Y":100,"Tooltip":null},{"X":1480291200000,"Y":100,"Tooltip":null},{"X":1482710400000,"Y":0,"Tooltip":null},{"X":1485388800000,"Y":0,"Tooltip":null},{"X":1488153600000,"Y":0,"Tooltip":null},{"X":1490572800000,"Y":0,"Tooltip":null},{"X":1493164800000,"Y":0,"Tooltip":null},{"X":1495756800000,"Y":0,"Tooltip":null},{"X":1498435200000,"Y":0,"Tooltip":null},{"X":1501027200000,"Y":0,"Tooltip":null},{"X":1503878400000,"Y":0,"Tooltip":null},{"X":1506384000000,"Y":0,"Tooltip":null},{"X":1508976000000,"Y":0,"Tooltip":null},{"X":1511740800000,"Y":0,"Tooltip":null},{"X":1514246400000,"Y":0,"Tooltip":null},{"X":1516924800000,"Y":0,"Tooltip":null},{"X":1519603200000,"Y":0,"Tooltip":null},{"X":1522022400000,"Y":0,"Tooltip":null},{"X":1524700800000,"Y":0,"Tooltip":null},{"X":1527465600000,"Y":0,"Tooltip":null}]},"Name":"15和信2A1"},{"Data":{"Data":[{"X":1448928000000,"Y":100,"Tooltip":null},{"X":1453766400000,"Y":100,"Tooltip":null},{"X":1456444800000,"Y":100,"Tooltip":null},{"X":1459123200000,"Y":100,"Tooltip":null},{"X":1461628800000,"Y":100,"Tooltip":null},{"X":1464220800000,"Y":100,"Tooltip":null},{"X":1466985600000,"Y":100,"Tooltip":null},{"X":1469491200000,"Y":100,"Tooltip":null},{"X":1472169600000,"Y":100,"Tooltip":null},{"X":1474848000000,"Y":100,"Tooltip":null},{"X":1477440000000,"Y":100,"Tooltip":null},{"X":1480291200000,"Y":100,"Tooltip":null},{"X":1482710400000,"Y":100,"Tooltip":null},{"X":1485388800000,"Y":83.33,"Tooltip":null},{"X":1488153600000,"Y":66.66,"Tooltip":null},{"X":1490572800000,"Y":49.99,"Tooltip":null},{"X":1493164800000,"Y":33.32,"Tooltip":null},{"X":1495756800000,"Y":16.650000000000002,"Tooltip":null},{"X":1498435200000,"Y":0,"Tooltip":null},{"X":1501027200000,"Y":0,"Tooltip":null},{"X":1503878400000,"Y":0,"Tooltip":null},{"X":1506384000000,"Y":0,"Tooltip":null},{"X":1508976000000,"Y":0,"Tooltip":null},{"X":1511740800000,"Y":0,"Tooltip":null},{"X":1514246400000,"Y":0,"Tooltip":null},{"X":1516924800000,"Y":0,"Tooltip":null},{"X":1519603200000,"Y":0,"Tooltip":null},{"X":1522022400000,"Y":0,"Tooltip":null},{"X":1524700800000,"Y":0,"Tooltip":null},{"X":1527465600000,"Y":0,"Tooltip":null}]},"Name":"15和信2A2"},{"Data":{"Data":[{"X":1448928000000,"Y":100,"Tooltip":null},{"X":1453766400000,"Y":100,"Tooltip":null},{"X":1456444800000,"Y":100,"Tooltip":null},{"X":1459123200000,"Y":100,"Tooltip":null},{"X":1461628800000,"Y":100,"Tooltip":null},{"X":1464220800000,"Y":100,"Tooltip":null},{"X":1466985600000,"Y":100,"Tooltip":null},{"X":1469491200000,"Y":100,"Tooltip":null},{"X":1472169600000,"Y":100,"Tooltip":null},{"X":1474848000000,"Y":100,"Tooltip":null},{"X":1477440000000,"Y":100,"Tooltip":null},{"X":1480291200000,"Y":100,"Tooltip":null},{"X":1482710400000,"Y":90.92,"Tooltip":null},{"X":1485388800000,"Y":82.46,"Tooltip":null},{"X":1488153600000,"Y":74.87,"Tooltip":null},{"X":1490572800000,"Y":68.04,"Tooltip":null},{"X":1493164800000,"Y":59.919999999999995,"Tooltip":null},{"X":1495756800000,"Y":52.82,"Tooltip":null},{"X":1498435200000,"Y":46.12,"Tooltip":null},{"X":1501027200000,"Y":34.12,"Tooltip":null},{"X":1503878400000,"Y":23.94,"Tooltip":null},{"X":1506384000000,"Y":14.06,"Tooltip":null},{"X":1508976000000,"Y":5.7,"Tooltip":null},{"X":1511740800000,"Y":0,"Tooltip":null},{"X":1514246400000,"Y":0,"Tooltip":null},{"X":1516924800000,"Y":0,"Tooltip":null},{"X":1519603200000,"Y":0,"Tooltip":null},{"X":1522022400000,"Y":0,"Tooltip":null},{"X":1524700800000,"Y":0,"Tooltip":null},{"X":1527465600000,"Y":0,"Tooltip":null}]},"Name":"15和信2A3"},{"Data":{"Data":[{"X":1448928000000,"Y":100,"Tooltip":null},{"X":1453766400000,"Y":100,"Tooltip":null},{"X":1456444800000,"Y":100,"Tooltip":null},{"X":1459123200000,"Y":100,"Tooltip":null},{"X":1461628800000,"Y":100,"Tooltip":null},{"X":1464220800000,"Y":100,"Tooltip":null},{"X":1466985600000,"Y":100,"Tooltip":null},{"X":1469491200000,"Y":100,"Tooltip":null},{"X":1472169600000,"Y":100,"Tooltip":null},{"X":1474848000000,"Y":100,"Tooltip":null},{"X":1477440000000,"Y":100,"Tooltip":null},{"X":1480291200000,"Y":100,"Tooltip":null},{"X":1482710400000,"Y":100,"Tooltip":null},{"X":1485388800000,"Y":100,"Tooltip":null},{"X":1488153600000,"Y":100,"Tooltip":null},{"X":1490572800000,"Y":100,"Tooltip":null},{"X":1493164800000,"Y":100,"Tooltip":null},{"X":1495756800000,"Y":100,"Tooltip":null},{"X":1498435200000,"Y":100,"Tooltip":null},{"X":1501027200000,"Y":100,"Tooltip":null},{"X":1503878400000,"Y":100,"Tooltip":null},{"X":1506384000000,"Y":100,"Tooltip":null},{"X":1508976000000,"Y":100,"Tooltip":null},{"X":1511740800000,"Y":81.44,"Tooltip":null},{"X":1514246400000,"Y":6.510000000000001,"Tooltip":null},{"X":1516924800000,"Y":0,"Tooltip":null},{"X":1519603200000,"Y":0,"Tooltip":null},{"X":1522022400000,"Y":0,"Tooltip":null},{"X":1524700800000,"Y":0,"Tooltip":null},{"X":1527465600000,"Y":0,"Tooltip":null}]},"Name":"15和信2B"},{"Data":{"Data":[{"X":1448928000000,"Y":100,"Tooltip":null},{"X":1453766400000,"Y":100,"Tooltip":null},{"X":1456444800000,"Y":100,"Tooltip":null},{"X":1459123200000,"Y":100,"Tooltip":null},{"X":1461628800000,"Y":100,"Tooltip":null},{"X":1464220800000,"Y":100,"Tooltip":null},{"X":1466985600000,"Y":100,"Tooltip":null},{"X":1469491200000,"Y":100,"Tooltip":null},{"X":1472169600000,"Y":100,"Tooltip":null},{"X":1474848000000,"Y":100,"Tooltip":null},{"X":1477440000000,"Y":100,"Tooltip":null},{"X":1480291200000,"Y":100,"Tooltip":null},{"X":1482710400000,"Y":100,"Tooltip":null},{"X":1485388800000,"Y":100,"Tooltip":null},{"X":1488153600000,"Y":100,"Tooltip":null},{"X":1490572800000,"Y":100,"Tooltip":null},{"X":1493164800000,"Y":100,"Tooltip":null},{"X":1495756800000,"Y":100,"Tooltip":null},{"X":1498435200000,"Y":100,"Tooltip":null},{"X":1501027200000,"Y":100,"Tooltip":null},{"X":1503878400000,"Y":100,"Tooltip":null},{"X":1506384000000,"Y":100,"Tooltip":null},{"X":1508976000000,"Y":100,"Tooltip":null},{"X":1511740800000,"Y":100,"Tooltip":null},{"X":1514246400000,"Y":100,"Tooltip":null},{"X":1516924800000,"Y":71.5917670879813,"Tooltip":null},{"X":1519603200000,"Y":44.1169147520373,"Tooltip":null},{"X":1522022400000,"Y":22.256732513930398,"Tooltip":null},{"X":1524700800000,"Y":3.4377452440568,"Tooltip":null},{"X":1527465600000,"Y":5.0703352678069e-15,"Tooltip":null}]},"Name":"15和信2C"},{"Data":{"Data":[{"X":1448928000000,"Y":100,"Tooltip":null},{"X":1453766400000,"Y":100,"Tooltip":null},{"X":1456444800000,"Y":100,"Tooltip":null},{"X":1459123200000,"Y":100,"Tooltip":null},{"X":1461628800000,"Y":100,"Tooltip":null},{"X":1464220800000,"Y":100,"Tooltip":null},{"X":1466985600000,"Y":100,"Tooltip":null},{"X":1469491200000,"Y":100,"Tooltip":null},{"X":1472169600000,"Y":100,"Tooltip":null},{"X":1474848000000,"Y":100,"Tooltip":null},{"X":1477440000000,"Y":100,"Tooltip":null},{"X":1480291200000,"Y":100,"Tooltip":null},{"X":1482710400000,"Y":0,"Tooltip":null},{"X":1485388800000,"Y":0,"Tooltip":null},{"X":1488153600000,"Y":0,"Tooltip":null},{"X":1490572800000,"Y":0,"Tooltip":null},{"X":1493164800000,"Y":0,"Tooltip":null},{"X":1495756800000,"Y":0,"Tooltip":null},{"X":1498435200000,"Y":0,"Tooltip":null},{"X":1501027200000,"Y":0,"Tooltip":null},{"X":1503878400000,"Y":0,"Tooltip":null},{"X":1506384000000,"Y":0,"Tooltip":null},{"X":1508976000000,"Y":0,"Tooltip":null},{"X":1511740800000,"Y":0,"Tooltip":null},{"X":1514246400000,"Y":0,"Tooltip":null},{"X":1516924800000,"Y":0,"Tooltip":null},{"X":1519603200000,"Y":0,"Tooltip":null},{"X":1522022400000,"Y":0,"Tooltip":null},{"X":1524700800000,"Y":0,"Tooltip":null},{"X":1527465600000,"Y":0,"Tooltip":null},{"X":1529971200000,"Y":0,"Tooltip":null}]},"Name":"15和信2A1(说明书)"},{"Data":{"Data":[{"X":1448928000000,"Y":100,"Tooltip":null},{"X":1453766400000,"Y":100,"Tooltip":null},{"X":1456444800000,"Y":100,"Tooltip":null},{"X":1459123200000,"Y":100,"Tooltip":null},{"X":1461628800000,"Y":100,"Tooltip":null},{"X":1464220800000,"Y":100,"Tooltip":null},{"X":1466985600000,"Y":100,"Tooltip":null},{"X":1469491200000,"Y":100,"Tooltip":null},{"X":1472169600000,"Y":100,"Tooltip":null},{"X":1474848000000,"Y":100,"Tooltip":null},{"X":1477440000000,"Y":100,"Tooltip":null},{"X":1480291200000,"Y":100,"Tooltip":null},{"X":1482710400000,"Y":100,"Tooltip":null},{"X":1485388800000,"Y":83.33,"Tooltip":null},{"X":1488153600000,"Y":66.66,"Tooltip":null},{"X":1490572800000,"Y":49.99,"Tooltip":null},{"X":1493164800000,"Y":33.32,"Tooltip":null},{"X":1495756800000,"Y":16.650000000000002,"Tooltip":null},{"X":1498435200000,"Y":0,"Tooltip":null},{"X":1501027200000,"Y":0,"Tooltip":null},{"X":1503878400000,"Y":0,"Tooltip":null},{"X":1506384000000,"Y":0,"Tooltip":null},{"X":1508976000000,"Y":0,"Tooltip":null},{"X":1511740800000,"Y":0,"Tooltip":null},{"X":1514246400000,"Y":0,"Tooltip":null},{"X":1516924800000,"Y":0,"Tooltip":null},{"X":1519603200000,"Y":0,"Tooltip":null},{"X":1522022400000,"Y":0,"Tooltip":null},{"X":1524700800000,"Y":0,"Tooltip":null},{"X":1527465600000,"Y":0,"Tooltip":null},{"X":1529971200000,"Y":0,"Tooltip":null}]},"Name":"15和信2A2(说明书)"},{"Data":{"Data":[{"X":1448928000000,"Y":100,"Tooltip":null},{"X":1453766400000,"Y":100,"Tooltip":null},{"X":1456444800000,"Y":100,"Tooltip":null},{"X":1459123200000,"Y":100,"Tooltip":null},{"X":1461628800000,"Y":100,"Tooltip":null},{"X":1464220800000,"Y":100,"Tooltip":null},{"X":1466985600000,"Y":100,"Tooltip":null},{"X":1469491200000,"Y":100,"Tooltip":null},{"X":1472169600000,"Y":100,"Tooltip":null},{"X":1474848000000,"Y":100,"Tooltip":null},{"X":1477440000000,"Y":100,"Tooltip":null},{"X":1480291200000,"Y":100,"Tooltip":null},{"X":1482710400000,"Y":98.91916186540881,"Tooltip":null},{"X":1485388800000,"Y":97.72860529528302,"Tooltip":null},{"X":1488153600000,"Y":96.15858110880504,"Tooltip":null},{"X":1490572800000,"Y":94.73161229088049,"Tooltip":null},{"X":1493164800000,"Y":91.88437781194969,"Tooltip":null},{"X":1495756800000,"Y":87.04993200943396,"Tooltip":null},{"X":1498435200000,"Y":82.56057164999999,"Tooltip":null},{"X":1501027200000,"Y":71.99794379842768,"Tooltip":null},{"X":1503878400000,"Y":61.57070107704402,"Tooltip":null},{"X":1506384000000,"Y":45.124734017610066,"Tooltip":null},{"X":1508976000000,"Y":28.807073257547174,"Tooltip":null},{"X":1511740800000,"Y":15.688895726100627,"Tooltip":null},{"X":1514246400000,"Y":1.8970728845911948,"Tooltip":null},{"X":1516924800000,"Y":0,"Tooltip":null},{"X":1519603200000,"Y":0,"Tooltip":null},{"X":1522022400000,"Y":0,"Tooltip":null},{"X":1524700800000,"Y":0,"Tooltip":null},{"X":1527465600000,"Y":0,"Tooltip":null},{"X":1529971200000,"Y":0,"Tooltip":null}]},"Name":"15和信2A3(说明书)"},{"Data":{"Data":[{"X":1448928000000,"Y":100,"Tooltip":null},{"X":1453766400000,"Y":100,"Tooltip":null},{"X":1456444800000,"Y":100,"Tooltip":null},{"X":1459123200000,"Y":100,"Tooltip":null},{"X":1461628800000,"Y":100,"Tooltip":null},{"X":1464220800000,"Y":100,"Tooltip":null},{"X":1466985600000,"Y":100,"Tooltip":null},{"X":1469491200000,"Y":100,"Tooltip":null},{"X":1472169600000,"Y":100,"Tooltip":null},{"X":1474848000000,"Y":100,"Tooltip":null},{"X":1477440000000,"Y":100,"Tooltip":null},{"X":1480291200000,"Y":100,"Tooltip":null},{"X":1482710400000,"Y":100,"Tooltip":null},{"X":1485388800000,"Y":100,"Tooltip":null},{"X":1488153600000,"Y":100,"Tooltip":null},{"X":1490572800000,"Y":100,"Tooltip":null},{"X":1493164800000,"Y":100,"Tooltip":null},{"X":1495756800000,"Y":100,"Tooltip":null},{"X":1498435200000,"Y":100,"Tooltip":null},{"X":1501027200000,"Y":100,"Tooltip":null},{"X":1503878400000,"Y":100,"Tooltip":null},{"X":1506384000000,"Y":100,"Tooltip":null},{"X":1508976000000,"Y":100,"Tooltip":null},{"X":1511740800000,"Y":100,"Tooltip":null},{"X":1514246400000,"Y":100,"Tooltip":null},{"X":1516924800000,"Y":40.21778414624506,"Tooltip":null},{"X":1519603200000,"Y":0,"Tooltip":null},{"X":1522022400000,"Y":0,"Tooltip":null},{"X":1524700800000,"Y":0,"Tooltip":null},{"X":1527465600000,"Y":0,"Tooltip":null},{"X":1529971200000,"Y":0,"Tooltip":null}]},"Name":"15和信2B(说明书)"},{"Data":{"Data":[{"X":1448928000000,"Y":100,"Tooltip":null},{"X":1453766400000,"Y":100,"Tooltip":null},{"X":1456444800000,"Y":100,"Tooltip":null},{"X":1459123200000,"Y":100,"Tooltip":null},{"X":1461628800000,"Y":100,"Tooltip":null},{"X":1464220800000,"Y":100,"Tooltip":null},{"X":1466985600000,"Y":100,"Tooltip":null},{"X":1469491200000,"Y":100,"Tooltip":null},{"X":1472169600000,"Y":100,"Tooltip":null},{"X":1474848000000,"Y":100,"Tooltip":null},{"X":1477440000000,"Y":100,"Tooltip":null},{"X":1480291200000,"Y":100,"Tooltip":null},{"X":1482710400000,"Y":100,"Tooltip":null},{"X":1485388800000,"Y":100,"Tooltip":null},{"X":1488153600000,"Y":100,"Tooltip":null},{"X":1490572800000,"Y":100,"Tooltip":null},{"X":1493164800000,"Y":100,"Tooltip":null},{"X":1495756800000,"Y":100,"Tooltip":null},{"X":1498435200000,"Y":100,"Tooltip":null},{"X":1501027200000,"Y":100,"Tooltip":null},{"X":1503878400000,"Y":100,"Tooltip":null},{"X":1506384000000,"Y":100,"Tooltip":null},{"X":1508976000000,"Y":100,"Tooltip":null},{"X":1511740800000,"Y":100,"Tooltip":null},{"X":1514246400000,"Y":100,"Tooltip":null},{"X":1516924800000,"Y":100,"Tooltip":null},{"X":1519603200000,"Y":66.41040975136853,"Tooltip":null},{"X":1522022400000,"Y":30.26817767821191,"Tooltip":null},{"X":1524700800000,"Y":14.039088716446635,"Tooltip":null},{"X":1527465600000,"Y":1.0502974066286104,"Tooltip":null},{"X":1529971200000,"Y":0,"Tooltip":null}]},"Name":"15和信2C(说明书)"}],"PlotValue":1514246400000,"PlotLabel":"2017-12-26","HasLegalLine":true}}');
        if (json.status == "ok") {
          var chartData = json.data;
          var o = [];
                var hasLegal = chartData.HasLegalLine;
                var colors = ["#2b908f", "#D8C46C", "#f45b5b", "#7798BF", "#FF1495", "#37FF14", "#eeaaee", "#55BF3B", "#DF5353", "#7798BF", "#aaeeee", "#00FFFF", "#8B008B"]
                var seriesLength = chartData.ListLineSeries.length / 2;
                for (var j = 0; j < Math.floor((hasLegal ? seriesLength : 2 * seriesLength) / colors.length); j++)
                    colors = colors.concat(colors);
                var i = 0;
                chartData.ListLineSeries.forEach(
                    function (e) {
                        var a = [];
                        e.Data.Data.forEach(
                            function (e) {
                                a.push([e.X, e.Y]);
                            });
                        if (hasLegal == true) {
                            if (i < seriesLength) {
                                o.push({
                                    name: e.Name,
                                    data: a,
                                    type: 'line',
                                    step: true,
                                    color: colors[i]
                                });
                            }
                            else {
                                o.push({
                                    name: e.Name,
                                    data: a,
                                    dashStyle: 'Dot',
                                    step: true,
                                    color: colors[i - seriesLength]
                                });
                            }
                            i++;
                        }
                        else {
                            o.push({
                                name: e.Name,
                                data: a,
                                type: 'spline',
                            });
                        }

                    });
                var i = chartData.PlotValue,
                    s = chartData.PlotLabel;
                var l = {
                    title: {
                        text: ''
                    },
                    xAxis: {
                        type: "datetime",
                        dateTimeLabelFormats: {
                            second: "%Y-%m-%d %H:%M:%S",
                            minute: "%Y-%m-%d %H:%M",
                            hour: "%Y-%m-%d %H:%M",
                            day: "%Y-%m-%d",
                            week: "%Y年%m月",
                            month: "%Y年",
                            year: "%Y年"
                        },
                        plotLines: [{
                            color: "white",
                            width: .8,
                            value: i,
                            dashStyle: "dash",
                            label: {
                                text: s,
                                verticalAlign: "middle",
                                textAlign: "left",
                                style: {
                                    color: "#E0E0E3"
                                }
                            }
                        }],
                        plotBands: [{
                            color: "#514C44",
                            from: Date.UTC(2e3, 1, 1),
                            to: i
                        }]
                    },
                    yAxis: {
                        title: {
                            enabled: !0,
                            text: ""
                        },
                        labels: {
                            format: "{value:.0f}%"
                        },
                        max: 100
                    },
                    plotOptions: {
                        series: {
                            marker: {
                                enabled: !1
                            }
                        }
                    },
                    tooltip: {
                        formatter: function () {
                            var t,
                                e = new Date(this.x);
                            return t = e.getFullYear() + "-" + (e.getMonth() + 1) + "-" + e.getDate() + "<br/>" + this.series.name + "剩余本金:<br/>" + Math.round(100 * this.y) / 100 + "%"
                        }
                    },
                    legend : {
                        style: {
                            fontSize: '10px'
                        }
                    },
                    credits: {
                      href: '',
                      text: 'CNABS'
                    },
                    series: o
                };
        this.options = l;
        }
      });
    }
  },
};
</script>
